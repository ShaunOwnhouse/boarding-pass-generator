<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boarding Pass</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', 'Helvetica Neue', sans-serif;
            background: #f5f5f5;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .boarding-pass {
            background: white;
            width: 100%;
            max-width: 850px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            border-radius: 0;
        }
        
        .airline-header {
            padding: 30px 40px 20px;
            border-bottom: 3px solid #000;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .airline-branding {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .airline-icon {
            font-size: 36px;
        }
        
        .airline-name {
            font-size: 18px;
            font-weight: 600;
            color: #000;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .barcode-top {
            width: 200px;
            height: 60px;
            background: repeating-linear-gradient(
                90deg,
                #000 0px,
                #000 2px,
                #fff 2px,
                #fff 3px
            );
        }
        
        .pass-title {
            padding: 25px 40px 20px;
            background: white;
        }
        
        .pass-title h1 {
            font-size: 36px;
            font-weight: 700;
            letter-spacing: 2px;
            color: #000;
            text-transform: uppercase;
        }
        
        .main-content {
            padding: 30px 40px;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px 30px;
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 2px solid #e0e0e0;
        }
        
        .info-item {
            display: flex;
            flex-direction: column;
        }
        
        .info-label {
            font-size: 11px;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 6px;
            font-weight: 600;
        }
        
        .info-value {
            font-size: 18px;
            font-weight: 700;
            color: #000;
        }
        
        .info-value.large {
            font-size: 24px;
        }
        
        .route-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 40px 0;
            padding: 30px;
            background: #f8f8f8;
        }
        
        .route-airport {
            text-align: center;
            flex: 1;
        }
        
        .route-code {
            font-size: 56px;
            font-weight: 700;
            color: #000;
            margin-bottom: 8px;
            letter-spacing: -2px;
        }
        
        .route-name {
            font-size: 13px;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .route-arrow {
            font-size: 40px;
            color: #000;
            margin: 0 30px;
        }
        
        .additional-details {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px 25px;
            margin-bottom: 40px;
        }
        
        .next-steps {
            background: #f8f8f8;
            padding: 30px 40px;
            margin-top: 30px;
        }
        
        .next-steps h2 {
            font-size: 18px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 25px;
            color: #000;
        }
        
        .steps-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }
        
        .step-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px;
            background: white;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .step-icon {
            font-size: 32px;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f0f0f0;
            border-radius: 4px;
        }
        
        .step-text {
            font-size: 14px;
            color: #333;
            line-height: 1.4;
        }
        
        .barcode-bottom {
            width: 100%;
            max-width: 300px;
            height: 80px;
            background: repeating-linear-gradient(
                90deg,
                #000 0px,
                #000 2px,
                #fff 2px,
                #fff 4px
            );
            margin: 30px auto 10px;
        }
        
        .barcode-number {
            text-align: center;
            font-size: 14px;
            font-weight: 700;
            letter-spacing: 3px;
            color: #000;
            margin-bottom: 10px;
            font-family: 'Courier New', monospace;
        }
        
        .bp-number {
            text-align: center;
            font-size: 12px;
            color: #666;
            margin-top: 10px;
        }
        
        .print-section {
            text-align: center;
            padding: 30px;
            background: white;
            border-top: 2px solid #e0e0e0;
        }
        
        .print-btn {
            background: #000;
            color: white;
            border: none;
            padding: 15px 50px;
            font-size: 16px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.3s;
        }
        
        .print-btn:hover {
            background: #333;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        @media print {
            body {
                background: white;
                padding: 0;
            }
            .boarding-pass {
                box-shadow: none;
            }
            .next-steps {
                page-break-before: avoid;
            }
            .print-section {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="boarding-pass">
        <!-- Airline Header -->
        <div class="airline-header">
            <div class="airline-branding">
                <div class="airline-icon">‚úàÔ∏è</div>
                <div class="airline-name" id="airlineName">{{airline}}</div>
            </div>
            <div class="barcode-top"></div>
        </div>
        
        <!-- Boarding Pass Title -->
        <div class="pass-title">
            <h1>YOUR BOARDING PASS</h1>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <!-- Primary Info Grid -->
            <div class="info-grid">
                <div class="info-item">
                    <div class="info-label">Passenger Name</div>
                    <div class="info-value large" id="passengerName">{{passenger}}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Flight</div>
                    <div class="info-value" id="flightNumber">{{flight}}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Seat</div>
                    <div class="info-value" id="seatNumber">{{seat}}</div>
                </div>
            </div>
            
            <!-- Route Section -->
            <div class="route-section">
                <div class="route-airport">
                    <div class="route-code" id="fromCode">-</div>
                    <div class="route-name" id="fromName">Origin</div>
                </div>
                <div class="route-arrow">‚Üí</div>
                <div class="route-airport">
                    <div class="route-code" id="toCode">-</div>
                    <div class="route-name" id="toName">Destination</div>
                </div>
            </div>
            
            <!-- Additional Details -->
            <div class="additional-details">
                <div class="info-item">
                    <div class="info-label">Gate</div>
                    <div class="info-value" id="gate">{{gate}}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Boarding Time</div>
                    <div class="info-value" id="departureTime">{{departureTime}}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Terminal</div>
                    <div class="info-value" id="terminal">{{terminal}}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Date</div>
                    <div class="info-value" id="departureDate">{{departureDate}}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Baggage</div>
                    <div class="info-value" id="baggage">{{bags}} bag(s)</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Boarding Pass</div>
                    <div class="info-value" id="bpNumber">{{bpNumber}}</div>
                </div>
            </div>
            
            <!-- Barcode -->
            <div class="barcode-bottom"></div>
            <div class="barcode-number" id="barcodeNumber">*123456789012*</div>
            <div class="bp-number">Boarding Pass: <span id="bpNumberBottom">{{bpNumber}}</span></div>
        </div>
        
        <!-- Next Steps -->
        <div class="next-steps">
            <h2>Next Steps</h2>
            <div class="steps-grid">
                <div class="step-item">
                    <div class="step-icon">üé´</div>
                    <div class="step-text">
                        <strong>Boarding Pass</strong><br>
                        Present at gate for boarding
                    </div>
                </div>
                <div class="step-item">
                    <div class="step-icon">üíº</div>
                    <div class="step-text">
                        <strong>Checked Baggage</strong><br>
                        Drop at baggage counter if applicable
                    </div>
                </div>
                <div class="step-item">
                    <div class="step-icon">üß≥</div>
                    <div class="step-text">
                        <strong>Carry-on Baggage</strong><br>
                        One carry-on and one personal item allowed
                    </div>
                </div>
                <div class="step-item">
                    <div class="step-icon">‚úàÔ∏è</div>
                    <div class="step-text">
                        <strong>Departure</strong><br>
                        Boarding closes 30 minutes before departure
                    </div>
                </div>
                <div class="step-item">
                    <div class="step-icon">üÜî</div>
                    <div class="step-text">
                        <strong>ID Required</strong><br>
                        Valid ID/passport must be presented
                    </div>
                </div>
                <div class="step-item">
                    <div class="step-icon">‚è∞</div>
                    <div class="step-text">
                        <strong>Arrive Early</strong><br>
                        At gate at least 45 minutes before departure
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Print Section -->
        <div class="print-section">
            <button class="print-btn" onclick="window.print()">üñ®Ô∏è Print Boarding Pass</button>
        </div>
    </div>

    <script>
        // Generate barcode number based on booking reference
        function generateBarcodeNumber(bpNumber) {
            if (!bpNumber || bpNumber === '{{bpNumber}}') {
                return '*123456789012*';
            }
            // Create a numeric barcode from BP number
            const numeric = bpNumber.replace(/[^0-9]/g, '');
            const padded = numeric.padEnd(12, '0').substring(0, 12);
            return '*' + padded + '*';
        }
        
        // Parse URL parameters
        const urlParams = new URLSearchParams(window.location.search);
        
        // Set values from URL parameters or keep template placeholders
        const params = {
            passenger: urlParams.get('passenger') || '{{passenger}}',
            flight: urlParams.get('flight') || '{{flight}}',
            airline: urlParams.get('airline') || '{{airline}}',
            seat: urlParams.get('seat') || '{{seat}}',
            gate: urlParams.get('gate') || '{{gate}}',
            terminal: urlParams.get('terminal') || '{{terminal}}',
            bpNumber: urlParams.get('bpNumber') || '{{bpNumber}}',
            bags: urlParams.get('bags') || '{{bags}}',
            route: urlParams.get('route') || '{{route}}',
            departure: urlParams.get('departure') || '{{departureDate}} {{departureTime}}'
        };
        
        // Set passenger and flight info
        if (params.passenger !== '{{passenger}}') {
            document.getElementById('passengerName').textContent = params.passenger.toUpperCase();
        }
        
        if (params.flight !== '{{flight}}') {
            document.getElementById('flightNumber').textContent = params.flight;
        }
        
        if (params.airline !== '{{airline}}') {
            document.getElementById('airlineName').textContent = params.airline;
        }
        
        if (params.seat !== '{{seat}}') {
            document.getElementById('seatNumber').textContent = params.seat;
        }
        
        if (params.gate !== '{{gate}}') {
            document.getElementById('gate').textContent = params.gate;
        }
        
        if (params.terminal !== '{{terminal}}') {
            document.getElementById('terminal').textContent = params.terminal;
        }
        
        if (params.bpNumber !== '{{bpNumber}}') {
            document.getElementById('bpNumber').textContent = params.bpNumber;
            document.getElementById('bpNumberBottom').textContent = params.bpNumber;
            document.getElementById('barcodeNumber').textContent = generateBarcodeNumber(params.bpNumber);
        }
        
        if (params.bags !== '{{bags}}') {
            const bagText = params.bags === '1' ? '1 checked bag' : params.bags + ' checked bags';
            document.getElementById('baggage').textContent = bagText;
        }
        
        // Parse route
        if (params.route !== '{{route}}') {
            const routeParts = params.route.split('-');
            const from = routeParts[0] || '-';
            const to = routeParts[routeParts.length - 1] || '-';
            
            document.getElementById('fromCode').textContent = from;
            document.getElementById('toCode').textContent = to;
            
            const airportNames = {
                'JNB': 'Johannesburg',
                'Johannesburg': 'Johannesburg',
                'CPT': 'Cape Town',
                'DUR': 'Durban',
                'Durban': 'Durban',
                'PLZ': 'Port Elizabeth',
                'LHR': 'London',
                'London': 'London',
                'DXB': 'Dubai'
            };
            
            document.getElementById('fromName').textContent = airportNames[from] || from || 'Origin';
            document.getElementById('toName').textContent = airportNames[to] || to || 'Destination';
        }
        
        // Parse departure date and time
        if (params.departure !== '{{departureDate}} {{departureTime}}') {
            const parts = params.departure.split(' ');
            if (parts[0] !== '{{departureDate}}') {
                document.getElementById('departureDate').textContent = parts[0];
            }
            if (parts[1] !== '{{departureTime}}') {
                document.getElementById('departureTime').textContent = parts[1];
            }
        }
    </script>
</body>
</html>
